clear all
close all
clc

%%
battData = [0.6937712731915653, 4.1650958286140645
1.6489909530527846, 4.137838955083099
2.4790615304722934, 4.110215129278548
3.6577617504079996, 4.079297266785534
4.60404220866624, 4.048200195042629
5.666532547763207, 4.023858316413652
7.675303345118422, 4.01491847720582
9.68407414247364, 4.006708986806075
11.692844939828852, 4.000274521357625
13.701615737184063, 3.9950603855631917
15.710386534539282, 3.98951343259039
17.719157331894493, 3.9859633826877974
19.727928129249705, 3.9817476984284683
21.736698926604923, 3.9783085875853312
23.745469723960134, 3.9749804158016504
25.754240521315346, 3.9718741221368816
27.763011318670564, 3.968545950353201
29.771782116025776, 3.964552144212784
31.780552913380987, 3.9603364599534547
33.789323710736205, 3.955787958515758
35.79809450809142, 3.9511285180186047
37.80686530544663, 3.9455815650458033
39.81563610280184, 3.9399236730135456
41.82440690015705, 3.932934512267816
43.833177697512276, 3.9258344124626303
45.84194849486749, 3.9180686783007084
47.8507192922227, 3.908971675425314
49.85949008957791, 3.899985611609376
51.86826088693312, 3.8902229743772456
53.87703168428833, 3.880349398085659
55.885802481643545, 3.8704758217940727
57.89457327899877, 3.860047550205206
59.90334407635398, 3.8500630348541636
61.91211487370919, 3.840522275740945
63.920885671064404, 3.831092455687183
65.92965646841961, 3.8224392090496124
67.93842726577483, 3.8143406577093226
69.94719806313006, 3.8064639844879444
71.95596886048526, 3.799142006563847
73.96473965784048, 3.791598150520837
75.97351045519568, 3.7847199288345634
77.9822812525509, 3.7777307680888335
79.9910520499061, 3.771074424521472
81.99982284726133, 3.7643071418946543
84.00859364461655, 3.7578726764462047
86.01736444197175, 3.751105393819387
88.02613523932698, 3.7442271721331135
90.03490603668217, 3.7373489504468393
92.0436768340374, 3.7296941553443737
94.0524476313926, 3.7222612383608196
96.06121842874782, 3.714051747961074
98.06998922610305, 3.7062860137991516
100.07876002345824, 3.698076523399406
102.08753082081347, 3.6888685814645554
104.09630161816867, 3.6796606395297053
106.10507241552389, 3.670452697594855
108.11384321287909, 3.6610228775410927
110.12261401023432, 3.6517039965467863
112.13138480758951, 3.642274176493024
114.14015560494474, 3.6324006002014375
116.14892640229996, 3.622527023909851
118.15769719965516, 3.6124315694993525
120.16646799701039, 3.602114236969942
122.17523879436558, 3.5920187825594434
124.18400959172081, 3.581812389089489
126.01016486204372, 3.5777939298247485
128.7493977675281, 3.557960491306443
130.75816856488333, 3.5516369649174497
132.76693936223853, 3.542761840160967
134.77571015959376, 3.5346632888206773
136.78448095694895, 3.5261209812425633
138.79325175430418, 3.5176896127239052
140.80202255165938, 3.509812939502527
142.8107933490146, 3.501825327221693
144.81956414636983, 3.494059593059771
146.82833494372503, 3.4866266760762175
148.83710574108025, 3.4789718809737513
150.84587653843545, 3.47120614681183
152.85464733579067, 3.4627747782931717
154.86341813314587, 3.4544543488339694
156.8721889305011, 3.445246406899119
158.88095972785632, 3.436038464964269
160.88973052521152, 3.4264977058510504
162.89850132256674, 3.416513190500008
164.90727211992194, 3.4060849189111413
166.91604291727717, 3.394547256727715
168.9248137146324, 3.3826767773659197
170.9335845119876, 3.3693640902311963
172.94235530934282, 3.3544982562640886
174.951126106698, 3.3389667879402447
176.95989690405324, 3.3208837212489124
178.96866770140844, 3.301913142081932
180.96222053817766, 3.279864004015046
182.5803970138249, 3.260779404148069
184.4471335123772, 3.240785720321661
185.95786196328072, 3.217710395954807
187.60377333679253, 3.2001503276866243
189.08861149111465, 3.1794918899722053
190.90715778114455, 3.158593744647176
192.23112035212867, 3.1364752696681304
193.99933031098942, 3.1204936447761096
195.52961330914945, 3.0955942262585845
197.2737002920263, 3.072713045245779
199.06855004342938, 3.052536928299376
200.08684900607142, 3.031134670605366
201.79560858044496, 3.0090118373061276
203.62176385076788, 2.9821035684350683
205.40947374697876, 2.954940528987118
207.05923259490513, 2.9267759754448885
208.58460935011607, 2.899713370764644
210.1636965544541, 2.873787347624906
211.68907330966505, 2.8457556576311784
213.30038678347938, 2.8173748842309747
214.6598579291642, 2.7985230509461534];


%%

plot(battData(:,1),battData(:,2))

dischargeCurrent = 1.25;

dischargeCurrentMa = dischargeCurrent*1000;

maxEnergyCap = 4800;
battData(:,1) = battData(:,1)/60;
battData(:,1) = battData(:,1) * dischargeCurrentMa; 
battData(:,1) = maxEnergyCap - battData(:,1);

battData = flip(battData);
figure

plot(battData(:,1), battData(:,2));



